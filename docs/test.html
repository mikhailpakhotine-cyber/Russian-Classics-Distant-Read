<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test - Data Loading</title>
    <script src="data.js"></script>
</head>
<body>
    <h1>Data Loading Test</h1>
    <div id="status">Loading...</div>
    <div id="content"></div>

    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const status = document.getElementById('status');
            const content = document.getElementById('content');

            if (typeof ANALYSIS_DATA === 'undefined') {
                status.innerHTML = '<p style="color: red;">ERROR: ANALYSIS_DATA not found!</p>';
                status.innerHTML += '<p>Make sure data.js is in the same folder as this file.</p>';
            } else {
                status.innerHTML = '<p style="color: green;">âœ“ Data loaded successfully!</p>';
                content.innerHTML = `
                    <h2>Data Summary:</h2>
                    <ul>
                        <li>Number of texts: ${ANALYSIS_DATA.texts.length}</li>
                        <li>Texts analyzed:
                            <ul>
                                ${ANALYSIS_DATA.texts.map(t => `<li>${t.title}</li>`).join('')}
                            </ul>
                        </li>
                        <li>Insights: ${ANALYSIS_DATA.narrative_insights.length}</li>
                    </ul>
                    <h3>First Insight:</h3>
                    <p>${ANALYSIS_DATA.narrative_insights[0]}</p>
                `;
            }
        });
    </script>
</body>
</html>
